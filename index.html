<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Javascript Code Challenge</title>
    <link href="style.css" rel="stylesheet">
</head>

<body>
    <div class="header">
        <img src="logo.png" alt="Lister"/>
    </div>
    <div class="section charInputForm checkString">
        <h2>Remove unwanted whitespace</h2>
        <label>
            <input type="text" placeholder="Enter a string" data-cy="checkInput"/>
            <button class="btn btn-link" data-cy="clearInput" onclick="clearInput()">Clear</button>
        </label>
        <button onclick="removeUnwantedSpace()" data-cy="removeWhitespace" class="btn btn-default">Remove Unwanted Whitespace</button>
        <button onclick="removeAllSpace()" data-cy="removeAllWhitespace" class="btn btn-default">Remove All Whitespace</button>
        <div class="result" data-cy="result"></div>
        <h4>Provided test cases</h4>
        <blockquote>
            <p><mark>"&nbsp;&nbsp;Test&nbsp;&nbsp;&nbsp;&nbsp;hello&nbsp;&nbsp;&nbsp;&nbsp;world!&nbsp;&nbsp;"</mark> should become <mark>"Test hello world!"</mark> on clicking Remove Whitespace button</p>
            <p><mark>"First&nbsp;&nbsp;name  "</mark> should become <mark>"Firstname"</mark> on clicking Remove All Whitespace button</p>
        </blockquote>
    </div>

    <div class="section charInputForm checkString">
        <h2>Check the string is palindrome or not</h2>
        <label>
            <input type="text" placeholder="Enter a string" data-cy="checkInputPalindrome"/>
            <button class="btn btn-link" data-cy="clearInputPalindrome" onclick="clearInputPalindrome()">Clear</button>
        </label>
        <button data-cy="checkPalindrome" onclick="checkPalindrome()" class="btn btn-default">Check Palindrome or Not</button>
        <div class="result" data-cy="resultPalindrome"></div>
        <h4>Provided test cases</h4>
        <blockquote>
            <p><mark>"radar"</mark> should return the given string is palindrome</p>
            <p><mark>"Radar"</mark> should return the given string is not a palindrome</p>
            <p><mark>"madam@123"</mark> should return the given string is not a palindrome</p>
        </blockquote>
    </div>
    <script>
        let resultInput = document.querySelector("[data-cy='result']"),
        resultPalindrome = document.querySelector("[data-cy='resultPalindrome']"),
        emptyValueErr = 'The value should not be empty'

        removeUnwantedSpace = () => {   
            let inputValue = document.querySelector("[data-cy='checkInput']").value;       
            if(inputValue === ''){
                resultInput.innerHTML = emptyValueErr;
                resultInput.classList.add('error');
            } else {
                resultInput.innerHTML = inputValue.replace(/\s+/g,' ').trim();
                resultInput.classList.add('success');
            }
        }

        removeAllSpace = () => {
            let inputValue = document.querySelector("[data-cy='checkInput']").value;
            if(inputValue === ''){
                resultInput.innerHTML = emptyValueErr;
                resultInput.classList.add('error');
            } else {
                resultInput.innerHTML = inputValue.replace(/\s+/g,'').trim();
                resultInput.classList.add('success');
            }
        }

        clearInput = () => {
            document.querySelector("[data-cy='checkInput']").value = '';
            resultInput.innerHTML = '';
            resultInput.classList.remove('error','success');
        }

        clearInputPalindrome = () => {
            document.querySelector("[data-cy='checkInputPalindrome']").value = '';
            resultPalindrome.innerHTML = '';
            resultInput.classList.remove('error','success');
        }

        checkPalindrome = () => {
            let inputValue = document.querySelector("[data-cy='checkInputPalindrome']").value;
            if(inputValue === ''){
                resultPalindrome.innerHTML = emptyValueErr;
                resultPalindrome.classList.add('error');
            } else {
                if(inputValue === reverseString(inputValue)){
                    resultPalindrome.innerHTML = '"'+inputValue +'" is a palindrome'
                    resultPalindrome.classList.add('success');
                } else {
                    resultPalindrome.innerHTML = '"'+inputValue +'" is not a palindrome'
                    resultPalindrome.classList.add('error');
                }
            }      
        }

        reverseString = (str) => {
            return (str === '') ? '' : reverseString(str.substr(1)) + str.charAt(0);
        }
    </script>
</body>
</html>